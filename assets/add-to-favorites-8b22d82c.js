import{a as L,f as j}from"./vendor-0a7c832e.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(o){if(o.ep)return;o.ep=!0;const t=r(o);fetch(o.href,t)}})();(()=>{const e={openModalBtn:document.querySelector(".burger-menu-open"),closeModalBtn:document.querySelector(".burger-closed"),modal:document.querySelector(".backdrop"),backdrop:document.querySelector(".background-menu")};e.modal.classList.add("is-hidden"),e.openModalBtn.addEventListener("click",function(){n(),r();const o=document.getElementsByClassName("js-main-link-home"),t=document.getElementsByClassName("js-main-link-favorites"),a=window.location.pathname,d="favorites.html";a.endsWith(d)?(console.log("FAVORITES"),Array.from(t).forEach(i=>i.classList.add("active-link")),Array.from(o).forEach(i=>i.classList.remove("active-link"))):(console.log("HOME"),Array.from(o).forEach(i=>i.classList.add("active-link")),Array.from(t).forEach(i=>i.classList.remove("active-link")))}),e.closeModalBtn.addEventListener("click",function(){n(),s()}),e.backdrop.addEventListener("click",function(o){o.target===e.backdrop&&(n(),s())});function n(){e.modal.classList.toggle("is-hidden"),e.backdrop.classList.toggle("hidden")}function r(){document.body.style.overflow="hidden"}function s(){document.body.style.overflow=""}})();const f=document.querySelector(".link-favorites"),p=document.querySelector(".link-home");window.addEventListener("load",()=>{window.location.pathname.endsWith("favorites.html")?(f.classList.add("active-link"),p.classList.remove("active-link")):(p.classList.add("active-link"),f.classList.remove("active-link"))});async function v({filter:e,limit:n,page:r=1,typeFilter:s,id:o=null}){try{const t=o?`https://energyflow.b.goit.study/api/${s}/${o}`:`https://energyflow.b.goit.study/api/${s}`;return await L.get(t,{params:{filter:e,page:r,limit:n,id:o}})}catch(t){console.error(t.message)}}function k(){const e=document.querySelector(".js-quote"),n=document.querySelector(".js-author"),s=j(new Date,"dd.MM.yyyy"),o=localStorage.getItem("dateNow");setTimeout(()=>{if(o===s){const t=JSON.parse(localStorage.getItem("quoteDay")),{author:a,quote:d}=t;e.textContent=d,n.textContent=a;return}},500),(!o||o!==s||!localStorage.getItem("quoteDay"))&&(localStorage.setItem("dateNow",s),v({typeFilter:"quote"}).then(({data:t})=>{const{author:a,quote:d}=t,i={author:a,quote:d};localStorage.setItem("quoteDay",JSON.stringify(i)),e.textContent=d,n.textContent=a}).catch(()=>{console.log(err)}))}k();const D="/project-JS-Wizards/assets/sprite-afa54ed9.svg",u={backdrop:document.querySelector(".backdrop-thumb"),closeIcon:document.querySelector(".js-modal-window"),galleryWindow:document.querySelector(".js-gallery")},g=document.querySelectorAll(".raiting");u.galleryWindow.addEventListener("click",w);function w(e){if(e.target.classList.contains("js-start")){u.backdrop.classList.remove("is-open"),document.body.style.overflow="hidden";const n=e.target.closest(".js-id");if(n){const r=n.dataset.id;E(r)}}}u.closeIcon.addEventListener("click",S);document.addEventListener("keydown",C);function S(e){u.backdrop.classList.add("is-open"),document.body.style.overflow="",V()}function C(e){e.code==="Escape"&&(u.backdrop.classList.add("is-open"),document.body.style.overflow="")}u.backdrop.addEventListener("click",function(e){e.target===this&&S()});function E(e){v({typeFilter:"exercises",id:e}).then(({data:n})=>{const{name:r,rating:s,target:o,bodyPart:t,equipment:a,popularity:d,burnedCalories:i,description:h,gifUrl:q,_id:b}=n;document.querySelector(".modal-window").setAttribute("data-modal-id",b);const l={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};l.img.setAttribute("src",q),l.title.textContent=r.charAt(0).toUpperCase()+r.slice(1),l.raiting.textContent=s,l.targetValue.textContent=o,l.bodyPartValue.textContent=t,l.equipmentValue.textContent=a,l.popularValue.textContent=d,l.caloriesValue.textContent=i,l.descriptionValue.textContent=h,g.length>0&&x()}).catch(n=>console.error(n))}function V(){const e={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};e.img.setAttribute("src",""),e.title.textContent="",e.raiting.textContent="",e.targetValue.textContent="",e.bodyPartValue.textContent="",e.equipmentValue.textContent="",e.popularValue.textContent="",e.caloriesValue.textContent="",e.descriptionValue.textContent="",document.querySelectorAll(".raiting-item .icon-star").forEach(r=>{r.classList.add("non-activ")})}function x(){let e,n;for(let t=0;t<g.length;t++){const a=g[t];r(a)}function r(t){s(t),o()}function s(t){e=t.querySelector(".raiting-active"),n=t.getElementsByClassName("raiting-value")[0]}function o(t=n.innerHTML){const a=t/.05;e.style.width=`${a}%`}}const m=JSON.parse(localStorage.getItem("addKeyID"))||[];let y;const c={addToFavoritesBtn:document.querySelector(".add-to-favorities"),removeFromFavoritesBtn:document.querySelector(".js-remove"),idModul:document.querySelector(".js-gallery")};c.idModul.addEventListener("click",B);function B(e){const n=e.target.closest(".js-id");n&&(y=n.dataset.id,M().includes(y)?(c.removeFromFavoritesBtn.classList.remove("hidden-btn"),c.addToFavoritesBtn.classList.add("hidden-btn")):(c.removeFromFavoritesBtn.classList.add("hidden-btn"),c.addToFavoritesBtn.classList.remove("hidden-btn")))}if(!localStorage.getItem("addKeyID")){const e=[];localStorage.setItem("addKeyID",JSON.stringify(e))}c.addToFavoritesBtn.addEventListener("click",I);function I(){c.removeFromFavoritesBtn.classList.remove("hidden-btn"),c.addToFavoritesBtn.classList.add("hidden-btn"),m.push(y),localStorage.setItem("addKeyID",JSON.stringify(m))}c.removeFromFavoritesBtn.addEventListener("click",()=>F(y));function F(e){c.removeFromFavoritesBtn.classList.add("hidden-btn"),c.addToFavoritesBtn.classList.remove("hidden-btn"),A(e),m.splice(m.indexOf(e),1)}function A(e){const n=m.filter(s=>s!==e);localStorage.setItem("addKeyID",JSON.stringify(n));const r=document.querySelector(`.list-favorites-item[data-id="${e}"]`);r&&r.remove()}function M(){return localStorage.getItem("addKeyID")}export{v as g,D as i};
//# sourceMappingURL=add-to-favorites-8b22d82c.js.map
