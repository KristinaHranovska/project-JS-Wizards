import{a as O,f as A,i as S}from"./vendor-0a7c832e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();(()=>{const e={openModalBtn:document.querySelector(".burger-menu-open"),closeModalBtn:document.querySelector(".burger-closed"),modal:document.querySelector(".backdrop"),backdrop:document.querySelector(".background-menu")};e.modal.classList.add("is-hidden"),e.openModalBtn.addEventListener("click",function(){t(),a();const s=document.getElementsByClassName("js-main-link-home"),o=document.getElementsByClassName("js-main-link-favorites"),n=window.location.pathname,u="favorites.html";n.endsWith(u)?(console.log("FAVORITES"),Array.from(o).forEach(i=>i.classList.add("active-link")),Array.from(s).forEach(i=>i.classList.remove("active-link"))):(console.log("HOME"),Array.from(s).forEach(i=>i.classList.add("active-link")),Array.from(o).forEach(i=>i.classList.remove("active-link")))}),e.closeModalBtn.addEventListener("click",function(){t(),r()}),e.backdrop.addEventListener("click",function(s){s.target===e.backdrop&&(t(),r())});function t(){e.modal.classList.toggle("is-hidden"),e.backdrop.classList.toggle("hidden")}function a(){document.body.style.overflow="hidden"}function r(){document.body.style.overflow=""}})();const w=document.querySelector(".link-favorites"),C=document.querySelector(".link-home");window.addEventListener("load",()=>{window.location.pathname.endsWith("favorites.html")?(w.classList.add("active-link"),C.classList.remove("active-link")):(C.classList.add("active-link"),w.classList.remove("active-link"))});async function x({filter:e,limit:t,page:a=1,typeFilter:r,id:s=null}){try{const o=s?`https://energyflow.b.goit.study/api/${r}/${s}`:`https://energyflow.b.goit.study/api/${r}`;return await O.get(o,{params:{filter:e,page:a,limit:t,id:s}})}catch(o){console.error(o.message)}}const q={author:"Bruce Lee",quote:"It doesn't matter how slowly you progress. The main thing is that you don't stop."},l={quotePage:document.querySelector(".js-quote"),authorPage:document.querySelector(".js-author"),getDate:localStorage.getItem("dateNow"),storedQuote:JSON.parse(localStorage.getItem("quoteDay"))};function V(){const t=A(new Date,"dd.MM.yyyy");if(setTimeout(()=>{if(l.getDate===t){const a=JSON.parse(localStorage.getItem("quoteDay")),{author:r,quote:s}=a;l.quotePage.textContent=s,l.authorPage.textContent=r}},500),!l.getDate||l.getDate!==t||l.storedQuote){localStorage.setItem("dateNow",t);try{x({typeFilter:"quote"}).then(({data:a})=>{const{author:r,quote:s}=a,o={author:r,quote:s};localStorage.setItem("quoteDay",JSON.stringify(o)),l.quotePage.textContent=s,l.authorPage.textContent=r}).catch(a=>{console.error("Помилка при отриманні цитати:",a),l.quotePage.textContent=q.quote,l.authorPage.textContent=q.author,localStorage.setItem("quoteDay",JSON.stringify(q))})}catch(a){console.error("Помилка при виконанні запиту:",a)}}}V();const T={getInfo(e){S.info({title:"Hello",message:e})},getErrorInfo(e){S.error({title:"Error",message:e})},getSuccessInfo(e){S.success({title:"OK",message:e})}};function $(e,t,a){return e.map(({name:r,target:s,bodyPart:o,burnedCalories:n,_id:u,rating:i,time:v})=>{let f;const h=`<span class="ex-rating-group">
        <span class="ex-item-rating">${i.toFixed(2)}</span>
        <svg class="ex-star-icon" width="18" height="18"><use href="${a}#icon-rating-star"></use></svg>
      </span>`,L=`<button type="button" class="button-remove js-remove-favorites">
        <svg class="delete-favorites" data-id="${u}" width="16" height="16">
            <use href="${a}#icon-favorites-delete"></use>
        </svg>
        </button>`;return t==="remove"?f=L:t==="rating"&&(f=h),`<li class="exercise-item js-id js-animation-exercises js-list" data-id="${u}">
  <div class="ex-item-head">
    <span class="ex-item-head-group">
      <span class="ex-item-workout">WORKOUT</span>
  ${f}
    </span>
    <a class="ex-item-start" href="#" data-id="${u}">
      <span class="js-start">Start</span>
      <svg class="ex-arrow-icon js-start" width="14" height="14"><use href="${a}#arrow"></use></svg>
    </a>
  </div>
  <span class="ex-title">
    <span class="ex-run-men"><svg class="ex-icon-run" width="14" height="14"><use href="${a}#icon-body-parts-fitness"></use></svg></span>
    <h3 class="ex-item-name">${r.charAt(0).toUpperCase()+r.slice(1)}</h3>
  </span>
  <div class="ex-item-info">
    <span class="ex-info-group">
      <span class="ex-item-desc">Burned calories:</span>
      <span class="ex-item-value">${n} / ${v} min</span>
    </span>
    <span class="ex-info-group">
      <span class="ex-item-desc">Body part:</span>
      <span class="ex-item-value">${o.charAt(0).toUpperCase()+o.slice(1)}</span>
    </span>
    <span class="ex-info-group">
      <span class="ex-item-desc">Target:</span>
      <span class="ex-item-value">${s.charAt(0).toUpperCase()+s.slice(1)}</span>
    </span>
  </div>
</li>`}).join("")}const N="/project-JS-Wizards/assets/sprite-afa54ed9.svg",y={favoritesCard:document.getElementById("favorites-container"),removeCards:document.querySelector(".container-remove-favorites"),deleteButtons:document.querySelectorAll(".button-remove"),galleryWindow:document.querySelector(".js-gallery")},D="remove";function M(){try{const e=JSON.parse(localStorage.getItem("addKeyID"))||[];P(e)}catch(e){console.log(e),T.getErrorInfo("Wrong operation!!!")}}function P(e){!e||e.length===0?j():(E(e),R(),W()),I()}y.galleryWindow.addEventListener("click",J);function J(e){if(e.target.classList.contains("js-remove-favorites")){const t=e.target.closest(".js-list");t.classList.add("animation-items-remove"),setTimeout(()=>{const a=t.dataset.id;K(a),t.remove(),(JSON.parse(localStorage.getItem("addKeyID"))||[]).length===0&&j()},500)}}function K(e){let t=JSON.parse(localStorage.getItem("addKeyID"))||[];t=t.filter(a=>a!==e),localStorage.setItem("addKeyID",JSON.stringify(t))}function j(){y.removeCards.classList.remove("is-hidden")}function R(){y.removeCards.classList.add("is-hidden")}function W(){const e=document.querySelector(".scroll");e&&(e.getBoundingClientRect().height,window.scrollBy({top:0,behavior:"smooth"}))}function I(){const e=y.favoritesCard,t=e.querySelector(".list-favorites"),a=4;t&&(Math.ceil(t.children.length/3)>a?e.style.overflowY="scroll":e.style.overflowY="hidden")}window.location.pathname.endsWith("/favorites.html")&&M();function E(e){Promise.all(e.map(t=>x({typeFilter:"exercises",id:t}))).then(t=>{const a=t.map(o=>o.data),r=$(a,D,N),s=document.getElementById("favorites-container");if(s){s.insertAdjacentHTML("beforeend",r);const o=document.querySelectorAll(".js-animation");o.forEach(n=>{n.classList.add("animation-items")}),setTimeout(()=>{o.forEach(n=>{n.classList.remove("animation-items")})},500),I()}}).catch(t=>console.error(t))}const g={backdrop:document.querySelector(".backdrop-thumb"),closeIcon:document.querySelector(".js-modal-window"),galleryWindow:document.querySelector(".js-gallery")},b=document.querySelectorAll(".raiting");g.galleryWindow.addEventListener("click",H);function H(e){if(e.target.classList.contains("js-start")){g.backdrop.classList.remove("is-open"),document.body.style.overflow="hidden";const t=e.target.closest(".js-id");if(t){const a=t.dataset.id;z(a)}}}g.closeIcon.addEventListener("click",k);document.addEventListener("keydown",U);function k(e){g.backdrop.classList.add("is-open"),document.body.style.overflow="",B()}function U(e){e.code==="Escape"&&(g.backdrop.classList.add("is-open"),document.body.style.overflow="",B())}g.backdrop.addEventListener("click",function(e){e.target===this&&k()});function z(e){x({typeFilter:"exercises",id:e}).then(({data:t})=>{const{name:a,rating:r,target:s,bodyPart:o,equipment:n,popularity:u,burnedCalories:i,description:v,gifUrl:f,_id:h}=t;document.querySelector(".modal-window").setAttribute("data-modal-id",h);const d={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};d.img.setAttribute("src",f||"./img/picture/energyflow.png"),d.title.textContent=a.charAt(0).toUpperCase()+a.slice(1),d.raiting.textContent=r,d.targetValue.textContent=s,d.bodyPartValue.textContent=o,d.equipmentValue.textContent=n,d.popularValue.textContent=u,d.caloriesValue.textContent=i,d.descriptionValue.textContent=v,b.length>0&&Q()}).catch(t=>{console.error(t),document.querySelector(".js-img").setAttribute("src","./img/picture/energyflow.png")})}function B(){const e={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};e.img.setAttribute("src",""),e.title.textContent="",e.raiting.textContent="",e.targetValue.textContent="",e.bodyPartValue.textContent="",e.equipmentValue.textContent="",e.popularValue.textContent="",e.caloriesValue.textContent="",e.descriptionValue.textContent="",document.querySelectorAll(".raiting-item .icon-star").forEach(a=>{a.classList.add("non-activ")})}function Q(){let e,t;for(let o=0;o<b.length;o++){const n=b[o];a(n)}function a(o){r(o),s()}function r(o){e=o.querySelector(".raiting-active"),t=o.getElementsByClassName("raiting-value")[0]}function s(o=t.innerHTML){const n=o/.05;e.style.width=`${n}%`}}const m=JSON.parse(localStorage.getItem("addKeyID"))||[];let p;const c={addToFavoritesBtn:document.querySelector(".add-to-favorities"),removeFromFavoritesBtn:document.querySelector(".js-remove"),idModul:document.querySelector(".js-gallery")};c.idModul.addEventListener("click",G);function G(e){const t=e.target.closest(".js-id");t&&(p=t.dataset.id,Z().includes(p)?(c.removeFromFavoritesBtn.classList.remove("hidden-btn"),c.addToFavoritesBtn.classList.add("hidden-btn")):(c.removeFromFavoritesBtn.classList.add("hidden-btn"),c.addToFavoritesBtn.classList.remove("hidden-btn")))}if(!localStorage.getItem("addKeyID")){const e=[];localStorage.setItem("addKeyID",JSON.stringify(e))}c.addToFavoritesBtn.addEventListener("click",()=>Y(p));function Y(e){c.removeFromFavoritesBtn.classList.remove("hidden-btn"),c.addToFavoritesBtn.classList.add("hidden-btn"),F(e),m.push(e),localStorage.setItem("addKeyID",JSON.stringify(m))}c.removeFromFavoritesBtn.addEventListener("click",()=>X(p));function X(e){c.removeFromFavoritesBtn.classList.add("hidden-btn"),c.addToFavoritesBtn.classList.remove("hidden-btn"),F(e);const t=document.querySelector(`.list-favorites-item[data-id="${e}"]`);t&&(t.classList.add("animation-items-remove"),setTimeout(()=>{t.remove()},500)),m.splice(m.indexOf(e),1),localStorage.setItem("addKeyID",JSON.stringify(m))}function F(e){const t=m.filter(r=>r!==e);localStorage.setItem("addKeyID",JSON.stringify(t)),document.querySelector(`.list-favorites-item[data-id="${e}"]`)||E([e])}function Z(){return localStorage.getItem("addKeyID")}export{$ as c,N as i};
//# sourceMappingURL=add-to-favorites-c3afa088.js.map
