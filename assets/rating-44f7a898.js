import{i as b,a as j,f as O}from"./vendor-da0f5a63.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();(()=>{const e={openModalBtn:document.querySelector(".burger-menu-open"),closeModalBtn:document.querySelector(".burger-closed"),modal:document.querySelector(".backdrop"),backdrop:document.querySelector(".background-menu")};e.modal.classList.add("is-hidden"),e.openModalBtn.addEventListener("click",function(){t(),o();const n=document.getElementsByClassName("js-main-link-home"),r=document.getElementsByClassName("js-main-link-favorites"),a=window.location.pathname,h="favorites.html";a.endsWith(h)?(Array.from(r).forEach(u=>u.classList.add("active-link")),Array.from(n).forEach(u=>u.classList.remove("active-link"))):(Array.from(n).forEach(u=>u.classList.add("active-link")),Array.from(r).forEach(u=>u.classList.remove("active-link")))}),e.closeModalBtn.addEventListener("click",function(){t(),s()}),e.backdrop.addEventListener("click",function(n){n.target===e.backdrop&&(t(),s())});function t(){e.modal.classList.toggle("is-hidden"),e.backdrop.classList.toggle("hidden")}function o(){document.body.style.overflow="hidden"}function s(){document.body.style.overflow=""}})();const E=document.querySelector(".link-favorites"),k=document.querySelector(".link-home");window.addEventListener("load",()=>{window.location.pathname.endsWith("favorites.html")?(E.classList.add("active-link"),k.classList.remove("active-link")):(k.classList.add("active-link"),E.classList.remove("active-link"))});const f={getInfo(e){b.info({title:"Info",message:e})},getErrorInfo(e){b.error({title:"Error",message:e})},getSuccessInfo(e){b.success({title:"OK",message:e})}};async function L({filter:e,limit:t,page:o=1,typeFilter:s,id:n=null}){try{const r=n?`https://energyflow.b.goit.study/api/${s}/${n}`:`https://energyflow.b.goit.study/api/${s}`;return await j.get(r,{params:{filter:e,page:o,limit:t,id:n}})}catch(r){console.error(r.message)}}async function $({id:e,formData:t}){try{const o=await j.patch(`https://energyflow.b.goit.study/api/exercises/${e}/rating`,t);return f.getSuccessInfo("Rating has been updated"),o}catch(o){if(o.response){const s=o.response.status;s===400?f.getErrorInfo("Bad request! Please check your data."):s===404?f.getErrorInfo("Exercises not found!"):s===409?f.getInfo("Sorry! But you have already appreciated this exercise"):s===500?f.getErrorInfo("Internal server error! Please try again later."):f.getErrorInfo("An error occurred! Please try again later.")}else f.getInfo("An error occurred! Please try again later.");return statusCode}}const S={author:"Bruce Lee",quote:"It doesn't matter how slowly you progress. The main thing is that you don't stop."},l={quotePage:document.querySelector(".js-quote"),authorPage:document.querySelector(".js-author"),getDate:localStorage.getItem("dateNow"),storedQuote:JSON.parse(localStorage.getItem("quoteDay"))};function D(){const t=O(new Date,"dd.MM.yyyy");if(setTimeout(()=>{if(l.getDate===t){const o=JSON.parse(localStorage.getItem("quoteDay")),{author:s,quote:n}=o;l.quotePage.textContent=n,l.authorPage.textContent=s}},500),!l.getDate||l.getDate!==t||l.storedQuote){localStorage.setItem("dateNow",t);try{L({typeFilter:"quote"}).then(({data:o})=>{const{author:s,quote:n}=o,r={author:s,quote:n};localStorage.setItem("quoteDay",JSON.stringify(r)),l.quotePage.textContent=n,l.authorPage.textContent=s}).catch(o=>{console.error("Помилка при отриманні цитати:",o),l.quotePage.textContent=S.quote,l.authorPage.textContent=S.author,localStorage.setItem("quoteDay",JSON.stringify(S))})}catch(o){console.error("Помилка при виконанні запиту:",o)}}}D();const q="/project-JS-Wizards/assets/sprite-afa54ed9.svg",g=JSON.parse(localStorage.getItem("addKeyID"))||[];let p;const c={addToFavoritesBtn:document.querySelector(".add-to-favorities"),removeFromFavoritesBtn:document.querySelector(".js-remove"),idModul:document.querySelector(".js-gallery")};c.idModul.addEventListener("click",W);function W(e){const t=e.target.closest(".js-id");t&&(p=t.dataset.id,K().includes(p)?(c.removeFromFavoritesBtn.classList.remove("hidden-btn"),c.addToFavoritesBtn.classList.add("hidden-btn")):(c.removeFromFavoritesBtn.classList.add("hidden-btn"),c.addToFavoritesBtn.classList.remove("hidden-btn")))}if(!localStorage.getItem("addKeyID")){const e=[];localStorage.setItem("addKeyID",JSON.stringify(e))}c.addToFavoritesBtn.addEventListener("click",()=>J(p));function J(e){c.removeFromFavoritesBtn.classList.remove("hidden-btn"),c.addToFavoritesBtn.classList.add("hidden-btn"),I(e),g.push(e),localStorage.setItem("addKeyID",JSON.stringify(g))}c.removeFromFavoritesBtn.addEventListener("click",()=>x(p));function x(e){c.removeFromFavoritesBtn.classList.add("hidden-btn"),c.addToFavoritesBtn.classList.remove("hidden-btn"),I(e);const t=document.querySelector(`.list-favorites-item[data-id="${e}"]`);t&&(t.classList.add("animation-items-remove"),setTimeout(()=>{t.remove()},500)),g.splice(g.indexOf(e),1),localStorage.setItem("addKeyID",JSON.stringify(g))}function I(e){const t=g.filter(s=>s!==e);localStorage.setItem("addKeyID",JSON.stringify(t)),document.querySelector(`.list-favorites-item[data-id="${e}"]`)||F([e])}function K(){return localStorage.getItem("addKeyID")}const v={favoritesCard:document.getElementById("favorites-container"),removeCards:document.querySelector(".container-remove-favorites"),deleteButtons:document.querySelectorAll(".button-remove"),galleryWindow:document.querySelector(".js-gallery")};function z(){try{const e=JSON.parse(localStorage.getItem("addKeyID"))||[];H(e)}catch(e){console.log(e),f.getErrorInfo("Wrong operation!!!")}}function H(e){!e||e.length===0?B():(F(e),U(),_()),A()}v.galleryWindow.addEventListener("click",Q);function Q(e){if(e.target.classList.contains("js-remove-favorites")){const t=e.target.closest(".list-favorites-item");t.classList.add("animation-items-remove"),setTimeout(()=>{const o=t.dataset.id;x(o),t.remove(),(JSON.parse(localStorage.getItem("addKeyID"))||[]).length===0&&B()},500)}}function B(){v.removeCards.classList.remove("is-hidden")}function U(){v.removeCards.classList.add("is-hidden")}function _(){const e=document.querySelector(".scroll");e&&(e.getBoundingClientRect().height,window.scrollBy({top:0,behavior:"smooth"}))}function A(){const e=v.favoritesCard,t=e.querySelector(".list-favorites"),o=4;t&&(Math.ceil(t.children.length/3)>o?e.style.overflowY="scroll":e.style.overflowY="hidden")}window.location.pathname.endsWith("/favorites.html")&&z();function F(e){Promise.all(e.map(t=>L({typeFilter:"exercises",id:t}))).then(t=>{const o=t.map(r=>r.data),s=G(o),n=document.getElementById("favorites-container");if(n){n.insertAdjacentHTML("beforeend",s);const r=document.querySelectorAll(".js-animation");r.forEach(a=>{a.classList.add("animation-items")}),setTimeout(()=>{r.forEach(a=>{a.classList.remove("animation-items")})},500),A()}}).catch(t=>console.error(t))}function G(e){return e.map(({name:t,target:o,bodyPart:s,burnedCalories:n,_id:r})=>`<li class="list-favorites-item js-id js-animation" data-id="${r}">

        <div class="container-worcaut">
            <div class="workout-thumb">
            <div class="workout">Workout</div>
            <button type="button" class="button-remove js-remove-favorites">
            <svg class="delete-favorites" data-id="${r}" width="16" height="16">
                <use href="${q}#icon-favorites-delete"></use>
            </svg>
            </button>
            </div>
            <button type="button" class="button-start js-start">
                Start
                <svg class="icon-arrow-body js-start" width="14" height="14">
                    <use href="${q}#icon-arrow-body-parts"></use>
                </svg>
            </button>
        </div>
                <div class="container-cards-favorites">
                    <svg class="icon-parts-fitness" width="24" height="24">
                        <use href="${q}#icon-body-parts-fitness"></use>
                    </svg>
                    <h3 class="subtitle-favorites">${t.charAt(0).toUpperCase()+t.slice(1)}</h3>
                </div>
                <div class="container-subtext-info">
                   <span class="favorites-card-text-wrapper">
                   <span class="subtext-info">Burned calories:</span>
                    <span class="mini-info">${n}/ 3 min</span>
                    </span>
                    <span class="favorites-card-text-wrapper">
                    <span class="subtext-info">Body part:</span>
                    <span class="mini-info">${s}</span>
                    </span>
                    <span class="favorites-card-text-wrapper">
                    <span class="subtext-info">Target: </span>
                    <span class="mini-info">${o}</span>
                    </span>
               </div>
</li>`).join("")}const d={backdrop:document.querySelector(".backdrop-thumb"),closeIcon:document.querySelector(".js-modal-window"),galleryWindow:document.querySelector(".js-gallery"),ratingBtn:document.querySelector(".js-open-rating")};let V;const w=document.querySelectorAll(".raiting");d.galleryWindow.addEventListener("click",Y);function Y(e){if(e.target.classList.contains("js-start")){d.backdrop.classList.remove("is-open"),document.body.style.overflow="hidden";const t=e.target.closest(".js-id");if(t){const o=t.dataset.id;ee(o)}}}d.closeIcon.addEventListener("click",T);document.addEventListener("keydown",Z);function T(){d.backdrop.classList.add("is-open"),document.body.style.overflow="",P()}function Z(e){e.code==="Escape"&&(d.backdrop.classList.add("is-open"),document.body.style.overflow="",P())}d.backdrop.addEventListener("click",function(e){e.target===this&&T()});d.ratingBtn.addEventListener("click",X);function X(){d.backdrop.classList.add("is-open")}function ee(e){V=e,L({typeFilter:"exercises",id:e}).then(({data:t})=>{const{name:o,rating:s,target:n,bodyPart:r,equipment:a,popularity:h,burnedCalories:u,description:R,gifUrl:M,_id:N}=t;document.querySelector(".modal-window").setAttribute("data-modal-id",N);const m={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};m.img.setAttribute("src",M||"./img/picture/energyflow.png"),m.title.textContent=o.charAt(0).toUpperCase()+o.slice(1),m.raiting.textContent=s,m.targetValue.textContent=n,m.bodyPartValue.textContent=r,m.equipmentValue.textContent=a,m.popularValue.textContent=h,m.caloriesValue.textContent=u,m.descriptionValue.textContent=R,w.length>0&&te()}).catch(t=>{console.error(t),document.querySelector(".js-img").setAttribute("src","./img/picture/energyflow.png")})}function P(){const e={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};e.img.setAttribute("src",""),e.title.textContent="",e.raiting.textContent="",e.targetValue.textContent="",e.bodyPartValue.textContent="",e.equipmentValue.textContent="",e.popularValue.textContent="",e.caloriesValue.textContent="",e.descriptionValue.textContent="",document.querySelectorAll(".raiting-item .icon-star").forEach(o=>{o.classList.add("non-activ")})}function te(){let e,t;for(let r=0;r<w.length;r++){const a=w[r];o(a)}function o(r){s(r),n()}function s(r){e=r.querySelector(".raiting-active"),t=r.getElementsByClassName("raiting-value")[0]}function n(r=t.innerHTML){const a=r/.05;e.style.width=`${a}%`}}const i={numberRating:document.querySelector(".js-rating"),labelsInputs:document.querySelectorAll(".rating__label"),backdrop:document.querySelector(".backdrop-rating-thumb"),closeRatingModal:document.querySelector(".js-rating-window"),ratingBtn:document.querySelector(".js-open-rating"),inputEmail:document.querySelector(".js-input"),textareaComment:document.querySelector(".js-textarea"),formRating:document.querySelector(".js-form")},oe=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;let y=0;i.labelsInputs.forEach(e=>{e.addEventListener("mouseover",function(t){const o=Number(t.target.getAttribute("data-value"));i.numberRating.textContent=o.toFixed(1)}),e.addEventListener("mouseout",function(){y>0?i.numberRating.textContent=y.toFixed(1):i.numberRating.textContent="0.0"}),e.addEventListener("click",function(t){y=Number(t.target.getAttribute("data-value")),i.numberRating.textContent=y.toFixed(1)})});i.ratingBtn.addEventListener("click",re);function re(){i.backdrop.classList.remove("is-close"),document.body.style.overflow="hidden"}i.closeRatingModal.addEventListener("click",C);function C(){i.backdrop.classList.add("is-close"),document.body.style.overflow="",d.backdrop.classList.remove("is-open")}i.backdrop.addEventListener("click",function(e){e.target===this&&(d.backdrop.classList.remove("is-open"),C())});const ne=()=>setTimeout(()=>C(),1500);i.formRating.addEventListener("submit",se);function se(e){e.preventDefault();const t={rate:y,email:i.inputEmail.value.trim(),review:i.textareaComment.value.trim()},o=i.inputEmail.value.trim();oe.test(o)?$({id:V,formData:t}).then(()=>{ne(),i.formRating.reset()}).catch(s=>{console.log(s)}):f.getErrorInfo("Enter the correct email!")}export{f as a,q as i};
//# sourceMappingURL=rating-44f7a898.js.map
