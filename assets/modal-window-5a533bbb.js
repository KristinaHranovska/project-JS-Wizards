import{a as q,f as L,i as p}from"./vendor-a0f761d2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const g=document.querySelector(".link-favorites"),f=document.querySelector(".link-home");(()=>{const e={openModalBtn:document.querySelector(".burger-menu-open"),closeModalBtn:document.querySelector(".burger-closed"),modal:document.querySelector(".backdrop")};document.querySelector(".backdrop").classList.add("is-hidden"),e.openModalBtn.addEventListener("click",function(){console.log("Open modal button clicked"),r()}),e.closeModalBtn.addEventListener("click",r);function r(){e.modal.classList.toggle("is-hidden")}})();window.addEventListener("load",()=>{window.location.pathname.endsWith("favorites.html")?(g.classList.add("active-link"),f.classList.remove("active-link")):(f.classList.add("active-link"),g.classList.remove("active-link"))});async function S({filter:e,page:o=1,limit:r=12,typeFilter:s,id:t=null}){try{const n=t?`https://energyflow.b.goit.study/api/${s}/${t}`:`https://energyflow.b.goit.study/api/${s}`;return await q.get(n,{params:{filter:e,page:o,limit:r,id:t}})}catch{console.error(error.message)}}async function A({userEmail:e,typeFilter:o}){try{return await q.post(`https://energyflow.b.goit.study/api/${o}`,e)}catch(r){console.error(r.message)}}function x(){const e=document.querySelector(".js-quote"),o=document.querySelector(".js-author"),s=L(new Date,"dd.MM.yyyy"),t=localStorage.getItem("dateNow");setTimeout(()=>{if(t===s){const n=JSON.parse(localStorage.getItem("quoteDay")),{author:c,quote:i}=n;e.textContent=i,o.textContent=c;return}},500),(!t||t!==s||!localStorage.getItem("quoteDay"))&&(localStorage.setItem("dateNow",s),S({typeFilter:"quote"}).then(({data:n})=>{const{author:c,quote:i}=n,d={author:c,quote:i};localStorage.setItem("quoteDay",JSON.stringify(d)),e.textContent=i,o.textContent=c}).catch(()=>{console.log(err)}))}x();const B={getInfo(e){p.info({title:"Hello",message:e})},getErrorInfo(e){p.error({title:"Error",message:e})},getSuccessInfo(e){p.success({title:"OK",message:e})}},D="/project-JS-Wizards/assets/sprite-afa54ed9.svg",u=document.querySelector(".backdrop-thumb"),V=document.querySelector(".js-modal-window"),w=document.querySelector(".js-gallery");w.addEventListener("click",C);function C(e){if(e.target.classList.contains("js-start")){u.classList.remove("is-open"),document.body.style.overflow="hidden";const o=e.target.closest(".js-id");if(o){const r=o.dataset.id;M(r)}}}V.addEventListener("click",h);document.addEventListener("keydown",E);function h(e){u.classList.add("is-open"),document.body.style.overflow="",k()}function E(e){e.code==="Escape"&&u.classList.add("is-open")}u.addEventListener("click",function(e){e.target===this&&h()});function M(e){S({typeFilter:"exercises",id:e}).then(({data:o})=>{const{name:r,rating:s,target:t,bodyPart:n,equipment:c,popularity:i,burnedCalories:d,description:b,gifUrl:v,_id:j}=o;document.querySelector(".modal-window").setAttribute("data-modal-id",j);const a={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")},l=Math.round(s).toFixed(1);document.querySelectorAll(".raiting-item .icon-star").forEach((m,y)=>{y<Math.floor(l)||y===Math.floor(l)&&l%1!==0?m.classList.remove("non-activ"):m.classList.add("non-activ")}),a.img.setAttribute("src",v),a.title.textContent=r,a.raiting.textContent=l,a.targetValue.textContent=t,a.bodyPartValue.textContent=n,a.equipmentValue.textContent=c,a.popularValue.textContent=i,a.caloriesValue.textContent=d,a.descriptionValue.textContent=b}).catch(o=>console.error(o))}function k(){const e={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};e.img.setAttribute("src",""),e.title.textContent="",e.raiting.textContent="",e.targetValue.textContent="",e.bodyPartValue.textContent="",e.equipmentValue.textContent="",e.popularValue.textContent="",e.caloriesValue.textContent="",e.descriptionValue.textContent="",document.querySelectorAll(".raiting-item .icon-star").forEach(r=>{r.classList.add("non-activ")})}export{D as a,S as g,B as i,A as p};
//# sourceMappingURL=modal-window-5a533bbb.js.map
