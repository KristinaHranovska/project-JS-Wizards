import{a as B,f as F,i as v}from"./vendor-0a7c832e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();(()=>{const e={openModalBtn:document.querySelector(".burger-menu-open"),closeModalBtn:document.querySelector(".burger-closed"),modal:document.querySelector(".backdrop"),backdrop:document.querySelector(".background-menu")};e.modal.classList.add("is-hidden"),e.openModalBtn.addEventListener("click",function(){t(),r();const s=document.getElementsByClassName("js-main-link-home"),o=document.getElementsByClassName("js-main-link-favorites"),a=window.location.pathname,y="favorites.html";a.endsWith(y)?(console.log("FAVORITES"),Array.from(o).forEach(l=>l.classList.add("active-link")),Array.from(s).forEach(l=>l.classList.remove("active-link"))):(console.log("HOME"),Array.from(s).forEach(l=>l.classList.add("active-link")),Array.from(o).forEach(l=>l.classList.remove("active-link")))}),e.closeModalBtn.addEventListener("click",function(){t(),n()}),e.backdrop.addEventListener("click",function(s){s.target===e.backdrop&&(t(),n())});function t(){e.modal.classList.toggle("is-hidden"),e.backdrop.classList.toggle("hidden")}function r(){document.body.style.overflow="hidden"}function n(){document.body.style.overflow=""}})();const q=document.querySelector(".link-favorites"),b=document.querySelector(".link-home");window.addEventListener("load",()=>{window.location.pathname.endsWith("favorites.html")?(q.classList.add("active-link"),b.classList.remove("active-link")):(b.classList.add("active-link"),q.classList.remove("active-link"))});async function S({filter:e,limit:t,page:r=1,typeFilter:n,id:s=null}){try{const o=s?`https://energyflow.b.goit.study/api/${n}/${s}`:`https://energyflow.b.goit.study/api/${n}`;return await B.get(o,{params:{filter:e,page:r,limit:t,id:s}})}catch(o){console.error(o.message)}}const p={author:"Bruce Lee",quote:"It doesn't matter how slowly you progress. The main thing is that you don't stop."},c={quotePage:document.querySelector(".js-quote"),authorPage:document.querySelector(".js-author"),getDate:localStorage.getItem("dateNow"),storedQuote:JSON.parse(localStorage.getItem("quoteDay"))};function V(){const t=F(new Date,"dd.MM.yyyy");if(setTimeout(()=>{if(c.getDate===t){const r=JSON.parse(localStorage.getItem("quoteDay")),{author:n,quote:s}=r;c.quotePage.textContent=s,c.authorPage.textContent=n}},500),!c.getDate||c.getDate!==t||c.storedQuote){localStorage.setItem("dateNow",t);try{S({typeFilter:"quote"}).then(({data:r})=>{const{author:n,quote:s}=r,o={author:n,quote:s};localStorage.setItem("quoteDay",JSON.stringify(o)),c.quotePage.textContent=s,c.authorPage.textContent=n}).catch(r=>{console.error("Помилка при отриманні цитати:",r),c.quotePage.textContent=p.quote,c.authorPage.textContent=p.author,localStorage.setItem("quoteDay",JSON.stringify(p))})}catch(r){console.error("Помилка при виконанні запиту:",r)}}}V();const O={getInfo(e){v.info({title:"Hello",message:e})},getErrorInfo(e){v.error({title:"Error",message:e})},getSuccessInfo(e){v.success({title:"OK",message:e})}};function A(e){return e.map(({name:t,target:r,bodyPart:n,burnedCalories:s,_id:o})=>`<li class="list-favorites-item js-id js-animation" data-id="${o}">

  <div class="container-worcaut">
      <div class="workout-thumb">
      <div class="workout">Workout</div>
      <button type="button" class="button-remove js-remove-favorites">
      <svg class="delete-favorites" data-id="${o}" width="16" height="16">
          <use href="../img/icons/sprite.svg#icon-favorites-delete"></use>
      </svg>
      </button>
      </div>
      <button type="button" class="button-start js-start">
          Start
          <svg class="icon-arrow-body js-start" width="14" height="14">
              <use href="../img/icons/sprite.svg#icon-arrow-body-parts"></use>
          </svg>
      </button>
  </div>                  
          <div class="container-cards-favorites">
              <svg class="icon-parts-fitness" width="24" height="24">
                  <use href="../img/icons/sprite.svg#icon-body-parts-fitness"></use>
              </svg>
              <h3 class="subtitle-favorites">${t.charAt(0).toUpperCase()+t.slice(1)}</h3>
          </div>
          <div class="container-subtext-info">                           
             <span class="favorites-card-text-wrapper"> 
             <span class="subtext-info">Burned calories:</span>  
              <span class="mini-info">${s}/ 3 min</span>  
              </span>
              <span class="favorites-card-text-wrapper">
              <span class="subtext-info">Body part:</span> 
              <span class="mini-info">${n}</span>  
              </span>
              <span class="favorites-card-text-wrapper">
              <span class="subtext-info">Target: </span>
              <span class="mini-info">${r}</span>                           
              </span>
         </div>
</li>`).join("")}const g={favoritesCard:document.getElementById("favorites-container"),removeCards:document.querySelector(".container-remove-favorites"),deleteButtons:document.querySelectorAll(".button-remove"),galleryWindow:document.querySelector(".js-gallery")};function T(){try{const e=JSON.parse(localStorage.getItem("addKeyID"))||[];N(e)}catch(e){console.log(e),O.getErrorInfo("Wrong operation!!!")}}function N(e){!e||e.length===0?w():(C(e),M(),$()),L()}g.galleryWindow.addEventListener("click",D);function D(e){if(e.target.classList.contains("js-remove-favorites")){const t=e.target.closest(".list-favorites-item");t.classList.add("animation-items-remove"),setTimeout(()=>{const r=t.dataset.id;P(r),t.remove(),(JSON.parse(localStorage.getItem("addKeyID"))||[]).length===0&&w()},500)}}function P(e){let t=JSON.parse(localStorage.getItem("addKeyID"))||[];t=t.filter(r=>r!==e),localStorage.setItem("addKeyID",JSON.stringify(t))}function w(){g.removeCards.classList.remove("is-hidden")}function M(){g.removeCards.classList.add("is-hidden")}function $(){const e=document.querySelector(".scroll");e&&(e.getBoundingClientRect().height,window.scrollBy({top:0,behavior:"smooth"}))}function L(){const e=g.favoritesCard,t=e.querySelector(".list-favorites"),r=4;t&&(Math.ceil(t.children.length/3)>r?e.style.overflowY="scroll":e.style.overflowY="hidden")}window.location.pathname.endsWith("/favorites.html")&&T();function C(e){Promise.all(e.map(t=>S({typeFilter:"exercises",id:t}))).then(t=>{const r=t.map(o=>o.data),n=A(r),s=document.getElementById("favorites-container");if(s){s.insertAdjacentHTML("beforeend",n);const o=document.querySelectorAll(".js-animation");o.forEach(a=>{a.classList.add("animation-items")}),setTimeout(()=>{o.forEach(a=>{a.classList.remove("animation-items")})},500),L()}}).catch(t=>console.error(t))}const m={backdrop:document.querySelector(".backdrop-thumb"),closeIcon:document.querySelector(".js-modal-window"),galleryWindow:document.querySelector(".js-gallery")},h=document.querySelectorAll(".raiting");m.galleryWindow.addEventListener("click",J);function J(e){if(e.target.classList.contains("js-start")){m.backdrop.classList.remove("is-open"),document.body.style.overflow="hidden";const t=e.target.closest(".js-id");if(t){const r=t.dataset.id;W(r)}}}m.closeIcon.addEventListener("click",j);document.addEventListener("keydown",K);function j(e){m.backdrop.classList.add("is-open"),document.body.style.overflow="",R()}function K(e){e.code==="Escape"&&(m.backdrop.classList.add("is-open"),document.body.style.overflow="")}m.backdrop.addEventListener("click",function(e){e.target===this&&j()});function W(e){S({typeFilter:"exercises",id:e}).then(({data:t})=>{const{name:r,rating:n,target:s,bodyPart:o,equipment:a,popularity:y,burnedCalories:l,description:x,gifUrl:E,_id:k}=t;document.querySelector(".modal-window").setAttribute("data-modal-id",k);const d={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};d.img.setAttribute("src",E||"./img/picture/energyflow.png"),d.title.textContent=r.charAt(0).toUpperCase()+r.slice(1),d.raiting.textContent=n,d.targetValue.textContent=s,d.bodyPartValue.textContent=o,d.equipmentValue.textContent=a,d.popularValue.textContent=y,d.caloriesValue.textContent=l,d.descriptionValue.textContent=x,h.length>0&&H()}).catch(t=>{console.error(t),document.querySelector(".js-img").setAttribute("src","./img/picture/energyflow.png")})}function R(){const e={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};e.img.setAttribute("src",""),e.title.textContent="",e.raiting.textContent="",e.targetValue.textContent="",e.bodyPartValue.textContent="",e.equipmentValue.textContent="",e.popularValue.textContent="",e.caloriesValue.textContent="",e.descriptionValue.textContent="",document.querySelectorAll(".raiting-item .icon-star").forEach(r=>{r.classList.add("non-activ")})}function H(){let e,t;for(let o=0;o<h.length;o++){const a=h[o];r(a)}function r(o){n(o),s()}function n(o){e=o.querySelector(".raiting-active"),t=o.getElementsByClassName("raiting-value")[0]}function s(o=t.innerHTML){const a=o/.05;e.style.width=`${a}%`}}const u=JSON.parse(localStorage.getItem("addKeyID"))||[];let f;const i={addToFavoritesBtn:document.querySelector(".add-to-favorities"),removeFromFavoritesBtn:document.querySelector(".js-remove"),idModul:document.querySelector(".js-gallery")};i.idModul.addEventListener("click",Q);function Q(e){const t=e.target.closest(".js-id");t&&(f=t.dataset.id,G().includes(f)?(i.removeFromFavoritesBtn.classList.remove("hidden-btn"),i.addToFavoritesBtn.classList.add("hidden-btn")):(i.removeFromFavoritesBtn.classList.add("hidden-btn"),i.addToFavoritesBtn.classList.remove("hidden-btn")))}if(!localStorage.getItem("addKeyID")){const e=[];localStorage.setItem("addKeyID",JSON.stringify(e))}i.addToFavoritesBtn.addEventListener("click",()=>U(f));function U(e){i.removeFromFavoritesBtn.classList.remove("hidden-btn"),i.addToFavoritesBtn.classList.add("hidden-btn"),I(e),u.push(e),localStorage.setItem("addKeyID",JSON.stringify(u))}i.removeFromFavoritesBtn.addEventListener("click",()=>z(f));function z(e){i.removeFromFavoritesBtn.classList.add("hidden-btn"),i.addToFavoritesBtn.classList.remove("hidden-btn"),I(e);const t=document.querySelector(`.list-favorites-item[data-id="${e}"]`);t&&(t.classList.add("animation-items-remove"),setTimeout(()=>{t.remove()},500)),u.splice(u.indexOf(e),1),localStorage.setItem("addKeyID",JSON.stringify(u))}function I(e){const t=u.filter(n=>n!==e);localStorage.setItem("addKeyID",JSON.stringify(t)),document.querySelector(`.list-favorites-item[data-id="${e}"]`)||C([e])}function G(){return localStorage.getItem("addKeyID")}
//# sourceMappingURL=add-to-favorites-2562a5c8.js.map
