import{g as W,p as z}from"./assets/quote-7f1c08cc.js";import{a as E,i as y}from"./assets/vendor-a0f761d2.js";const n={gallery:document.querySelector(".gallery"),buttons:document.querySelector(".exercises-btns-div"),musclesBtn:document.querySelector('[data-filter="muscles"]'),bodypartsBtn:document.querySelector('[data-filter="bodypart"]'),equipBtn:document.querySelector('[data-filter="equipment"]')};E.defaults.baseURL="https://energyflow.b.goit.study/api";function _(e="show"){const t=document.querySelector(".loader");e==="show"?t.style.display="inline-block":t.style.display="none"}const c={perPage:12,page:1,filter:"Muscles",totalPages:1,totalItems:0};async function Y(){return _(),(await E.get("/filters",{params:{filter:c.filter,page:c.page,limit:c.perPage}})).data}function Z(e){y.error({position:"topRight",message:e})}function Q(e){n.gallery.innerHTML="";const t=e.map(({name:s,filter:v,imgUrl:S})=>`<li class="gallery-item">
        <a href="">
        <img class="gallery-image" src="${S}" alt="Galllery Image">
            <ul class="gallery-item-description" data-exercises="${s}">
                <li class="name">${s}</li>
                <li class="filter">${v}</li>
            </ul>
        </a>
    </li>`).join("");n.gallery.innerHTML=t}async function C(){c.page=1,Y().then(e=>{const{results:t}=e;Q(t)}).catch(e=>{Z(e.message)})}C();n.musclesBtn.classList.add("active");n.buttons.addEventListener("click",e=>{X(e);const t=e.target;t!==e.currentTarget&&(t===n.musclesBtn?c.filter="Muscles":t===n.bodypartsBtn?c.filter="Body parts":t===n.equipBtn&&(c.filter="Equipment"),C())});let l=null;function X(e){const t=e.target.nodeName==="BUTTON";n.musclesBtn.classList.remove("active"),t&&(e.target.classList.add("active"),l!==null&&l.classList.remove("active"),l=e.target,l===l&&l.classList.add("active"))}const b="/project-JS-Wizards/assets/sprite-afa54ed9.svg",r={page:1,totalPages:1,totalItems:0,keyword:"",filter:"",filterGroup:"",limit:12},i=document.querySelector(".gallery");i&&(i.addEventListener("click",ee),i.classList.add("exercises-card"));const j=document.querySelector(".search-btn"),u=document.querySelector(".search-clear-btn"),o=document.querySelector(".search-input"),V=document.querySelector(".exercises-btns-div"),B=document.querySelector(".ex-search"),M=document.querySelector(".exercises-header");function ee(e){if(e.preventDefault(),e.target.closest("ul").dataset.exercises){j.addEventListener("click",O),u.addEventListener("click",D),o.addEventListener("input",A),V.addEventListener("click",T),B.style.display="block";const t=document.querySelector(".exercises-button.active");r.filter=t.dataset.filter,r.filterGroup=e.target.closest("ul").dataset.exercises;const s=`Exercises / <span class="head-small">${r.filterGroup.charAt(0).toUpperCase()+r.filterGroup.slice(1)}</span>`;M.innerHTML=s,I(r.filter)}}function O(e){e.preventDefault(),o.value.length>0&&(r.page=1,r.keyword=o.value.trim().toLowerCase(),I(r.filter))}function A(){o.value.length>0?u.style.visibility="visible":u.style.visibility="hidden"}function D(){o.value="",u.style.visibility="hidden",r.page=1,I(r.filter)}function T(e){e.target.tagName==="BUTTON"&&(o.value="",B.style.display="none",i.innerHTML="",i.classList.remove("exercises-card"),j.removeEventListener("click",O),u.removeEventListener("click",D),o.removeEventListener("input",A),V.removeEventListener("click",T),r.page=1,M.innerHTML="Exercises")}function I(e){i.innerHTML="",te(e).then(t=>{t.results.length===0?i.innerHTML='<p class="ex-list-no-result">Unfortunately, <span class="accent-text">no results</span> were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.</p>':se(t.results),L("hide")}).catch(t=>{L("hide"),handleError(t.message)})}async function te(e){return L(),o.value.length>0?r.keyword=o.value.trim().toLowerCase():r.keyword="",(await E.get("/exercises",{params:{[e]:r.filterGroup,keyword:r.keyword,page:r.page,limit:r.limit}})).data}function se(e){let t=e.map(s=>`<li class="exercise-item js-id" data-id="${s._id}">
      <div class="ex-item-head">
        <span class="ex-item-head-group">
          <span class="ex-item-workout">WORKOUT</span>
          <span class="ex-rating-group">
            <span class="ex-item-rating">${Math.round(s.rating).toFixed(1)}</span>
            <svg class="ex-star-icon" width="18" height="18"><use href="${b}#icon-rating-star"></use></svg>
          </span>
        </span>
        <a class="ex-item-start" href="#" data-id="${s._id}">
          <span class="js-start">Start</span>
          <svg class="ex-arrow-icon js-start" width="14" height="14"><use href="${b}#arrow"></use></svg>
        </a>
      </div>
      <span class="ex-title">
        <span class="ex-run-men"><svg class="ex-icon-run" width="14" height="14"><use href="${b}#icon-body-parts-fitness"></use></svg></span>
        <h3 class="ex-item-name">${s.name.charAt(0).toUpperCase()+s.name.slice(1)}</h3>
      </span>
      <div class="ex-item-info">
        <span class="ex-info-group">
          <span class="ex-item-desc">Burned calories:</span>
          <span class="ex-item-value">${s.burnedCalories} / ${s.time} min</span>
        </span>
        <span class="ex-info-group">
          <span class="ex-item-desc">Body part:</span>
          <span class="ex-item-value">${s.bodyPart.charAt(0).toUpperCase()+s.bodyPart.slice(1)}</span>
        </span>
        <span class="ex-info-group">
          <span class="ex-item-desc">Target:</span>
          <span class="ex-item-value">${s.target.charAt(0).toUpperCase()+s.target.slice(1)}</span>
        </span>
      </div>
    </li>`).join("");i.innerHTML=t}function L(e="show"){const t=document.querySelector(".loader");e==="show"?t.style.display="inline-block":t.style.display="none"}const m=document.querySelector(".add-to-favorities"),p=document.querySelector(".js-remove");document.querySelector(".modal-window");const re=document.querySelector(".js-gallery"),f=JSON.parse(localStorage.getItem("addKeyID"))||[];JSON.parse(localStorage.getItem("addKremoveKeyIDeyID"));let d;re.addEventListener("click",ae);function ae(e){const t=e.target.closest(".js-id");t&&(d=t.dataset.id,f.includes(d)?(p.classList.remove("hidden-btn"),m.classList.add("hidden-btn")):(p.classList.add("hidden-btn"),m.classList.remove("hidden-btn")))}if(!localStorage.getItem("addKeyID")){const e=[];localStorage.setItem("addKeyID",JSON.stringify(e))}if(!localStorage.getItem("removeKeyID")){const e=[];localStorage.setItem("removeKeyID",JSON.stringify(e))}m.addEventListener("click",oe);function oe(){p.classList.remove("hidden-btn"),m.classList.add("hidden-btn");const e=JSON.parse(localStorage.getItem("addKeyID"));e.push(d),localStorage.setItem("addKeyID",JSON.stringify(e))}p.addEventListener("click",ne);function ne(){console.log("click"),console.log(d),p.classList.add("hidden-btn"),m.classList.remove("hidden-btn");const e=JSON.parse(localStorage.getItem("removeKeyID"));e.push(d),localStorage.setItem("removeKeyID",JSON.stringify(e));const t=f.indexOf(d);t!==-1&&(f.splice(t,1),localStorage.setItem("addKeyID",JSON.stringify(f)))}const h=document.querySelector(".backdrop-thumb"),ie=document.querySelector(".js-modal-window"),ce=document.querySelector(".js-gallery");ce.addEventListener("click",le);function le(e){if(e.target.classList.contains("js-start")){h.classList.remove("is-open"),document.body.style.overflow="hidden";const t=e.target.closest(".js-id");if(t){const s=t.dataset.id;ue(s)}}}ie.addEventListener("click",$);document.addEventListener("keydown",de);function $(e){h.classList.add("is-open"),document.body.style.overflow="",me()}function de(e){e.code==="Escape"&&h.classList.add("is-open")}h.addEventListener("click",function(e){e.target===this&&$()});function ue(e){W({typeFilter:"exercises",id:e}).then(({data:t})=>{const{name:s,rating:v,target:S,bodyPart:N,equipment:P,popularity:J,burnedCalories:H,description:U,gifUrl:G,_id:R}=t;document.querySelector(".modal-window").setAttribute("data-modal-id",R);const a={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")},g=Math.round(v).toFixed(1);document.querySelectorAll(".raiting-item .icon-star").forEach((x,k)=>{k<Math.floor(g)||k===Math.floor(g)&&g%1!==0?x.classList.remove("non-activ"):x.classList.add("non-activ")}),a.img.setAttribute("src",G),a.title.textContent=s,a.raiting.textContent=g,a.targetValue.textContent=S,a.bodyPartValue.textContent=N,a.equipmentValue.textContent=P,a.popularValue.textContent=J,a.caloriesValue.textContent=H,a.descriptionValue.textContent=U}).catch(t=>console.error(t))}function me(){const e={img:document.querySelector(".js-img"),title:document.querySelector(".js-title"),raiting:document.querySelector(".js-raiting"),targetValue:document.querySelector(".js-target"),bodyPartValue:document.querySelector(".js-body-part"),equipmentValue:document.querySelector(".js-equipment"),popularValue:document.querySelector(".js-popular"),caloriesValue:document.querySelector(".js-calories"),descriptionValue:document.querySelector(".js-description")};e.img.setAttribute("src",""),e.title.textContent="",e.raiting.textContent="",e.targetValue.textContent="",e.bodyPartValue.textContent="",e.equipmentValue.textContent="",e.popularValue.textContent="",e.caloriesValue.textContent="",e.descriptionValue.textContent="",document.querySelectorAll(".raiting-item .icon-star").forEach(s=>{s.classList.add("non-activ")})}const q={getInfo(e){y.info({title:"Hello",message:e})},getErrorInfo(e){y.error({title:"Error",message:e})},getSuccessInfo(e){y.success({title:"OK",message:e})}},pe=/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,w=document.querySelector(".footer-subscription-form"),F=document.querySelector(".footer-subscription-input"),K="feedback-subscribe-state",ge=async e=>{e.preventDefault();const t=F.value.trim();if(!pe.test(t))q.getErrorInfo("Enter the correct email!");else{try{await z({userEmail:{email:t},typeFilter:"subscription"}),q.getSuccessInfo("Successful subscription!")}catch{q.getErrorInfo("The user with this address is already subscribed!")}localStorage.removeItem(K),w.reset()}};w.addEventListener("submit",ge);w.addEventListener("input",e=>{const t=F.value.trim(),s=JSON.stringify({footerEmail:t});localStorage.setItem(K,s)});
//# sourceMappingURL=commonHelpers2.js.map
