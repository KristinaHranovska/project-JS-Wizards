{"version":3,"file":"commonHelpers.js","sources":["../src/js/helper/helpers.js","../src/js/favorities.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css'\n\nconst iziToastFunctions = {\n  getInfo(messageInfo) {\n    iziToast.info({\n      title: 'Hello',\n      message: messageInfo,\n    });\n  },\n\n  getErrorInfo(messageInfo) {\n    iziToast.error({\n      title: 'Error',\n      message: messageInfo,\n    });\n  },\n\n  getSuccessInfo(messageInfo) {\n    iziToast.success({\n      title: 'OK',\n      message: messageInfo,\n    });\n  },\n};\n\nfunction createMarkupFilter(filter, galleryContainer) {\n  const markup = filter\n    .map(\n      ({ filter, imgUrl, name }) => `\n      <li class=\"lists js-list\">\n      <img src=\"${imgUrl}\" alt=\"${name}\"class=\"pic\">\n      <div class=\"position-text\">\n      <h2 class=\"muscles-title\">${name}</h2>\n      <p class=\"filter-title\">${filter}</p>\n      </div>\n      </li>`\n    )\n    .join('');\n\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n  return markup;\n}\n\nexport { iziToastFunctions };\nexport { createMarkupFilter };\n","import { getAccess } from './helper/get-access.js';\nimport { iziToastFunctions } from './helper/helpers.js';\nimport icons from '../img/icons/sprite.svg';\n\nconst refs = {\n    favoritesCard: document.getElementById('favorites-container'),\n    removeCards: document.querySelector(\".container-remove-favorites\"),\n    deleteButtons: document.querySelectorAll('.button-remove'),\n    galleryWindow: document.querySelector('.js-gallery'),\n}\n\nfunction savedCardsStorage() {\n    try {\n        const savedCards = JSON.parse(localStorage.getItem('addKeyID')) || [];\n        console.log(savedCards);\n\n        displayFavoriteCards(savedCards);\n    } catch (error) {\n        iziToastFunctions.getErrorInfo('Wrong operation!!!');\n    }\n}\n\nfunction displayFavoriteCards(savedCards) {\n    if (!savedCards || savedCards.length === 0) {\n        showRemoveCards();\n    } else {\n        createCardFavorites(savedCards)\n        hideRemoveCards();\n        smoothScrollToNextGroup();\n    }\n}\n\nrefs.galleryWindow.addEventListener('click', deleteFavorites);\n\nfunction deleteFavorites(e) {\n    if (e.target.classList.contains('js-remove-favorites')) {\n        const cardId = e.target.closest('.list-favorites-item').dataset.id;\n        removeFavoriteCard(cardId);\n        e.target.closest('.list-favorites-item').remove();\n\n        const savedCards = JSON.parse(localStorage.getItem('addKeyID')) || [];\n        if (savedCards.length === 0) {\n            showRemoveCards();\n        }\n    }\n}\n\nfunction removeFavoriteCard(id) {\n    let savedCards = JSON.parse(localStorage.getItem('addKeyID')) || [];\n    savedCards = savedCards.filter(card => card !== id);\n    localStorage.setItem('addKeyID', JSON.stringify(savedCards));\n}\n\nfunction showRemoveCards() {\n    refs.removeCards.classList.remove(\"is-hidden\");\n}\n\nfunction hideRemoveCards() {\n    refs.removeCards.classList.add(\"is-hidden\");\n\n}\n\nfunction smoothScrollToNextGroup() {\n    const favoritesItem = document.querySelector(\".scroll\");\n    if (favoritesItem) {\n        const galleryItemHeight = favoritesItem.getBoundingClientRect().height;\n        window.scrollBy({\n            top: galleryItemHeight * 1,\n            behavior: \"smooth\",\n        });\n    }\n}\n\nsavedCardsStorage();\n\nfunction createCardFavorites(arr) {\n    Promise.all(arr.map(value =>\n        getAccess({ typeFilter: 'exercises', id: value })\n    ))\n        .then(results => {\n            const dataList = results.map(result => result.data);\n\n            refs.favoritesCard.insertAdjacentHTML(\"beforeend\", createMarkup(dataList));\n        })\n        .catch(err => console.error(err));\n}\n\nfunction createMarkup(arr) {\n    return arr.map(({ name, target, bodyPart, burnedCalories, _id }) =>\n        `<li class=\"list-favorites-item js-id\" data-id=\"${_id}\">\n    <div class=\"container-card\">\n        <div class=\"container-worcaut\">\n            <div class=\"workout-thumb\">\n            <div class=\"workout\">Workout</div>\n            <button type=\"button\" class=\"button-remove js-remove-favorites\">\n            <svg class=\"delete-favorites\" data-id=\"${_id}\" width=\"16\" height=\"16\">\n                <use href=\"${icons}#icon-favorites-delete\"></use>\n            </svg>\n            </button>\n            </div>\n            <button type=\"button\" class=\"button-start js-start\">\n                Start\n                <svg class=\"icon-arrow-body js-start\" width=\"14\" height=\"14\">\n                    <use href=\"${icons}#icon-arrow-body-parts\"></use>\n                </svg>\n            </button>\n        </div>                  \n                <div class=\"container-cards-favorites\">\n                    <svg class=\"icon-parts-fitness\" width=\"24\" height=\"24\">\n                        <use href=\"${icons}#icon-body-parts-fitness\"></use>\n                    </svg>\n                    <h3 class=\"subtitle-favorites\">${name.charAt(0).toUpperCase() + name.slice(1)\n        }</h3>\n                </div>\n                <div class=\"container-subtext-info\">                           \n                   <div class=\"favorites-card-text-wrapper\"> \n                   <h4 class=\"subtext-info\">Burned calories:</h4>  \n                    <p class=\"mini-info\">${burnedCalories}/ 3 min</p>  \n                    </div>\n                    <div class=\"favorites-card-text-wrapper\">\n                    <h4 class=\"subtext-info\">Body part:</h4> \n                    <p class=\"mini-info\">${bodyPart}</p>  \n                    </div>\n                    <div class=\"favorites-card-text-wrapper\">\n                    <h4 class=\"subtext-info\">Target: </h4>\n                    <p class=\"mini-info\">${target}</p>                           \n                    </div>\n               </div>\n       </div>\n</li>`)\n        .join('');\n}"],"names":["iziToastFunctions","messageInfo","iziToast","refs","savedCardsStorage","savedCards","displayFavoriteCards","showRemoveCards","createCardFavorites","hideRemoveCards","smoothScrollToNextGroup","deleteFavorites","cardId","removeFavoriteCard","id","card","favoritesItem","galleryItemHeight","arr","value","getAccess","results","dataList","result","createMarkup","err","name","target","bodyPart","burnedCalories","_id","icons"],"mappings":"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"}